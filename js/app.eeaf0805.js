(function(){"use strict";var e={879:function(e,t,a){var i=a(5130),o=a(6768),r=a(144),s=a(4232);const n={class:"tabs"},l=["onClick"];var u=(0,o.pM)({__name:"Tabs",props:{items:{}},setup(e){const t=e,a=(0,r.KR)(t.items[0].id);return(e,t)=>((0,o.uX)(),(0,o.CE)("div",n,[t[0]||(t[0]=(0,o.Lk)("div",{class:"line"},null,-1)),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.items,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.id,class:(0,s.C4)({active:t.id===a.value}),onClick:i=>{a.value=t.id,e.$emit("tab-change",t.id)}},(0,s.v_)(t.name),11,l)))),128))]),t[1]||(t[1]=(0,o.Lk)("div",{class:"line"},null,-1))]))}}),c=a(1241);const d=(0,c.A)(u,[["__scopeId","data-v-ecf052f6"]]);var p=d;class _{salario_minimo_interprofesional(){return 14e3}grupos_cotizacion(){return[{grupo:1,base_minima:1629.3,base_maxima:4139.4},{grupo:2,base_minima:1351.2,base_maxima:4139.4},{grupo:3,base_minima:1175.4,base_maxima:4139.4},{grupo:4,base_minima:1166.7,base_maxima:4139.4},{grupo:5,base_minima:1166.7,base_maxima:4139.4},{grupo:6,base_minima:1166.7,base_maxima:4139.4},{grupo:7,base_minima:1166.7,base_maxima:4139.4}]}tipos(){return[{nombre:"Contingencias comunes",porcentaje:4.7,porcentaje_empresa:23.6},{nombre:"Desempleo",porcentaje:1.55,porcentaje_empresa:5.5},{nombre:"Formación profesional",porcentaje:.1,porcentaje_empresa:.6},{nombre:"Fondo de Garantía Salarial",porcentaje:0,porcentaje_empresa:.2}]}minimo_general(){return 5550}minimo_edad(e){return e>=75?6950-this.minimo_general():e>=65?6700-this.minimo_general():0}minimo_matrimonio(){return 3400}minimo_mono_parental(){return 2150}minimo_hijo(e){switch(e){case 1:return 2400;case 2:return 2700;case 3:return 4e3;default:return 4500}}otros_gastos_deducibles(){return 2e3}escala_gravamen_estatal(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:12450,cuota_integra:1182.75,porcentaje_resto:12},{base_liquidable_hasta:20200,cuota_integra:2112.75,porcentaje_resto:15},{base_liquidable_hasta:35200,cuota_integra:4362.75,porcentaje_resto:18.5},{base_liquidable_hasta:6e4,cuota_integra:8950.75,porcentaje_resto:22.5},{base_liquidable_hasta:3e5,cuota_integra:62950.75,porcentaje_resto:24.5}]}escala_gravamen_autonomico(e){switch(e){case"cyl":return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9},{base_liquidable_hasta:12450,cuota_integra:1120.5,porcentaje_resto:12},{base_liquidable_hasta:20200,cuota_integra:2050.5,porcentaje_resto:14},{base_liquidable_hasta:35200,cuota_integra:4150.5,porcentaje_resto:18.5},{base_liquidable_hasta:53407.2,cuota_integra:7518.83,porcentaje_resto:21.5}];default:throw new Error(`No hay datos para la comunidad autónoma ${e}`)}}escala_gravamen_estatal_ahorro(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:6e3,cuota_integra:570,porcentaje_resto:10.5},{base_liquidable_hasta:5e4,cuota_integra:5190,porcentaje_resto:11.5},{base_liquidable_hasta:2e5,cuota_integra:22440,porcentaje_resto:13.5}]}escala_gravamen_autonomico_ahorro(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:6e3,cuota_integra:570,porcentaje_resto:10.5},{base_liquidable_hasta:5e4,cuota_integra:5190,porcentaje_resto:11.5},{base_liquidable_hasta:2e5,cuota_integra:22440,porcentaje_resto:13.5}]}plan_pensiones_max(){return 1500}flexible_max_transporte(){return 1500}flexible_max_guarderia(){return 0}flexible_max_seguro(){return 500}flexible_max_percentage(){return.3}flexible_max_restaurante_dia(){return 11}flexible_dias_laborables(){return 220}}class m{salario_minimo_interprofesional(){return 15120}grupos_cotizacion(){return[{grupo:1,base_minima:1759.5,base_maxima:4495.5},{grupo:2,base_minima:1459.2,base_maxima:4495.5},{grupo:3,base_minima:1269.3,base_maxima:4495.5},{grupo:4,base_minima:1260,base_maxima:4495.5},{grupo:5,base_minima:1260,base_maxima:4495.5},{grupo:6,base_minima:1260,base_maxima:4495.5},{grupo:7,base_minima:1260,base_maxima:4495.5}]}tipos(){return[{nombre:"Contingencias comunes",porcentaje:4.7,porcentaje_empresa:23.6},{nombre:"Desempleo",porcentaje:1.55,porcentaje_empresa:5.5},{nombre:"Formación profesional",porcentaje:.1,porcentaje_empresa:.6},{nombre:"Fondo de Garantía Salarial",porcentaje:0,porcentaje_empresa:.2},{nombre:"Mecanismo de Equidad Intergeneracional (MEI)",porcentaje:.1,porcentaje_empresa:.5}]}minimo_general(){return 5550}minimo_edad(e){return e>=75?8100-this.minimo_general():e>=65?6700-this.minimo_general():0}minimo_matrimonio(){return 3400}minimo_mono_parental(){return 2150}minimo_hijo(e){switch(e){case 1:return 2400;case 2:return 2700;case 3:return 4e3;default:return 4500}}otros_gastos_deducibles(){return 2e3}escala_gravamen_estatal(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:12450,cuota_integra:1182.75,porcentaje_resto:12},{base_liquidable_hasta:20200,cuota_integra:2112.75,porcentaje_resto:15},{base_liquidable_hasta:35200,cuota_integra:4362.75,porcentaje_resto:18.5},{base_liquidable_hasta:6e4,cuota_integra:8950.75,porcentaje_resto:22.5},{base_liquidable_hasta:3e5,cuota_integra:62950.75,porcentaje_resto:24.5}]}escala_gravamen_autonomico(e){switch(e){case"cyl":return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9},{base_liquidable_hasta:12450,cuota_integra:1120.5,porcentaje_resto:12},{base_liquidable_hasta:20200,cuota_integra:2050.5,porcentaje_resto:14},{base_liquidable_hasta:35200,cuota_integra:4150.5,porcentaje_resto:18.5},{base_liquidable_hasta:53407.2,cuota_integra:7518.83,porcentaje_resto:21.5}];default:throw new Error(`No hay datos para la comunidad autónoma ${e}`)}}escala_gravamen_estatal_ahorro(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:6e3,cuota_integra:570,porcentaje_resto:10.5},{base_liquidable_hasta:5e4,cuota_integra:5190,porcentaje_resto:11.5},{base_liquidable_hasta:2e5,cuota_integra:22440,porcentaje_resto:13.5},{base_liquidable_hasta:3e5,cuota_integra:35940,porcentaje_resto:14}]}escala_gravamen_autonomico_ahorro(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:6e3,cuota_integra:570,porcentaje_resto:10.5},{base_liquidable_hasta:5e4,cuota_integra:5190,porcentaje_resto:11.5},{base_liquidable_hasta:2e5,cuota_integra:22440,porcentaje_resto:13.5},{base_liquidable_hasta:3e5,cuota_integra:35940,porcentaje_resto:14}]}plan_pensiones_max(){return 1500}flexible_max_transporte(){return 1500}flexible_max_guarderia(){return 0}flexible_max_seguro(){return 500}flexible_max_percentage(){return.3}flexible_max_restaurante_dia(){return 11}flexible_dias_laborables(){return 220}}class b{salario_minimo_interprofesional(){return 15876}grupos_cotizacion(){return[{grupo:1,base_minima:1847.4,base_maxima:4720.5},{grupo:2,base_minima:1532.1,base_maxima:4720.5},{grupo:3,base_minima:1332.9,base_maxima:4720.5},{grupo:4,base_minima:1323,base_maxima:4720.5},{grupo:5,base_minima:1323,base_maxima:4720.5},{grupo:6,base_minima:1323,base_maxima:4720.5},{grupo:7,base_minima:1323,base_maxima:4720.5}]}tipos(){return[{nombre:"Contingencias comunes",porcentaje:4.7,porcentaje_empresa:23.6},{nombre:"Desempleo",porcentaje:1.55,porcentaje_empresa:5.5},{nombre:"Formación profesional",porcentaje:.1,porcentaje_empresa:.6},{nombre:"Fondo de Garantía Salarial",porcentaje:0,porcentaje_empresa:.2},{nombre:"Mecanismo de Equidad Intergeneracional (MEI)",porcentaje:.12,porcentaje_empresa:.58}]}minimo_general(){return 5550}minimo_edad(e){return e>=75?8100-this.minimo_general():e>=65?6700-this.minimo_general():0}minimo_matrimonio(){return 3400}minimo_mono_parental(){return 2150}minimo_hijo(e){switch(e){case 1:return 2400;case 2:return 2700;case 3:return 4e3;default:return 4500}}otros_gastos_deducibles(){return 2e3}escala_gravamen_estatal(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:12450,cuota_integra:1182.75,porcentaje_resto:12},{base_liquidable_hasta:20200,cuota_integra:2112.75,porcentaje_resto:15},{base_liquidable_hasta:35200,cuota_integra:4362.75,porcentaje_resto:18.5},{base_liquidable_hasta:6e4,cuota_integra:8950.75,porcentaje_resto:22.5},{base_liquidable_hasta:3e5,cuota_integra:62950.75,porcentaje_resto:24.5}]}escala_gravamen_autonomico(e){switch(e){case"cyl":return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9},{base_liquidable_hasta:12450,cuota_integra:1120.5,porcentaje_resto:12},{base_liquidable_hasta:20200,cuota_integra:2050.5,porcentaje_resto:14},{base_liquidable_hasta:35200,cuota_integra:4150.5,porcentaje_resto:18.5},{base_liquidable_hasta:53407.2,cuota_integra:7518.83,porcentaje_resto:21.5}];default:throw new Error(`No hay datos para la comunidad autónoma ${e}`)}}escala_gravamen_estatal_ahorro(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:6e3,cuota_integra:570,porcentaje_resto:10.5},{base_liquidable_hasta:5e4,cuota_integra:5190,porcentaje_resto:11.5},{base_liquidable_hasta:2e5,cuota_integra:22440,porcentaje_resto:13.5},{base_liquidable_hasta:3e5,cuota_integra:35940,porcentaje_resto:14}]}escala_gravamen_autonomico_ahorro(){return[{base_liquidable_hasta:0,cuota_integra:0,porcentaje_resto:9.5},{base_liquidable_hasta:6e3,cuota_integra:570,porcentaje_resto:10.5},{base_liquidable_hasta:5e4,cuota_integra:5190,porcentaje_resto:11.5},{base_liquidable_hasta:2e5,cuota_integra:22440,porcentaje_resto:13.5},{base_liquidable_hasta:3e5,cuota_integra:35940,porcentaje_resto:14}]}plan_pensiones_max(){return 1500}flexible_max_transporte(){return 1500}flexible_max_guarderia(){return 0}flexible_max_seguro(){return 500}flexible_max_percentage(){return.3}flexible_max_restaurante_dia(){return 11}flexible_dias_laborables(){return 220}}const h=[2024,2023,2022],g={2022:new _,2023:new m,2024:new b},x=[{id:"soltero",name:"Soltero/a sin hijos",has_hijos:!1,min_hijos:0,has_b:!1},{id:"matri-ind",name:"Matrimonio (declaración individual)",has_hijos:!0,min_hijos:0,has_b:!0},{id:"matri-conj",name:"Declaración conjunta",has_hijos:!0,min_hijos:0,has_b:!0},{id:"monoparental",name:"Monoparental",has_hijos:!0,min_hijos:1,has_b:!1}];function f(e){const t=x.find((t=>t.id===e));if(!t)throw new Error("unable to find situacion");return t}const v=[{grupo:1,nombre:"Ingenieros y Licenciados"},{grupo:2,nombre:"Ingenieros Técnicos, Peritos y Ayudantes Titulados"},{grupo:3,nombre:"Jefes Administrativos y de Taller"},{grupo:4,nombre:"Ayudantes no titulados"},{grupo:5,nombre:"Oficiales Administrativos"},{grupo:6,nombre:"Subalternos"},{grupo:7,nombre:"Auxiliares Administrativos"}];a(8111),a(8237);var y=a(1114);a(4114),a(3579);class j{constructor(e){(0,y.A)(this,"str",void 0),(0,y.A)(this,"valid",void 0),(0,y.A)(this,"value",void 0),e=q(e);const t=w(e);isNaN(t)?(this.str="",this.valid=!1,this.value=0):(this.str=e,this.valid=!0,this.value=t)}getValue(){return this.value}getText(){return this.str}getOptimizedText(){const e=this.str,t=[];let a=0;for(let i=0;i<e.length;i++){const o=e[i];"+"!==o&&"*"!==o||(t.push(e.substring(a,i)),t.push(o),a=i+1)}return a<e.length&&t.push(e.substring(a)),t.map((e=>"+"===e||"*"===e?e:w(e).toFixed(2).replace(/\.00$/,"").replace(/\.([0-9])0$/,".$1"))).join("")}static Zero(){return new j("0")}static fromNumber(e){return new j(e.toString())}}function q(e){return e=e.replace(/,/g,"."),e=e.replace(/[^0-9k.+*]/g,""),e}function w(e){e=e.trim().replace(/,/g,"."),console.log("toNumber",e);const t=e.split("+");if(t.some((e=>""===e)))return NaN;const a=t.reduce(((e,t)=>{const a=t.split("*");if(a.some((e=>""===e)))return NaN;const i=a.reduce(((e,t)=>e*Number(t)),1);return e+i}),0);return Number(a)}const C={class:"input"};var R=(0,o.pM)({__name:"NumberInput",props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=t;console.log("props",a.modelValue);const n=(0,r.KR)((a.modelValue||j.Zero()).getText());function l(e){s("update:modelValue",e)}function u(e){e=e.trim().replace(/,/g,"."),console.log("toNumber",e);const t=e.split("+"),a=t.reduce(((e,t)=>{const a=t.split("*"),i=a.reduce(((e,t)=>e*Number(t)),1);return e+i}),0);return Number(a)}(0,o.wB)(n,(e=>{e=e.trim().replace(/,/g,".");const t=u(e);isNaN(t)||l(j.fromNumber(t))})),(0,o.wB)((()=>a.modelValue),(e=>{`${e.getValue()}`!==`${u(n.value)}`&&(n.value=e.getText())}));const c=()=>{l(new j(n.value))};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",C,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),onBlur:c},null,544),[[i.Jo,n.value]])]))}});const E=(0,c.A)(R,[["__scopeId","data-v-a90d9bb6"]]);var k=E;const A={class:"theform"},L={class:"theinput"},F=["value"],V={class:"theinput"},I=["value"],B={class:"theinput"},P={class:"theinput"},G={class:"theinput"},U={class:"row"},T={class:"row"},X={class:"double"},K={class:"theinput"},N={class:"theinput"},z=["min"],S={class:"theinput"},M=["value"];var Z=(0,o.pM)({__name:"Form",props:{start:{}},emits:["newConfig"],setup(e,{emit:t}){const a=e,n=(0,r.Kh)({year:a.start.year||h[0],grupo_cotizacion:a.start.grupo_cotizacion||1,situacion_id:a.start.situacion_id,salarioA:a.start.salarioA,salarioB:a.start.salarioB,edad:a.start.edad||30,hijos:a.start.hijos||0,ahorro:a.start.ahorro||j.Zero(),plan_pensiones:a.start.plan_pensiones||j.Zero(),flexible_restaurante:a.start.flexible_restaurante||j.Zero(),flexible_transporte:a.start.flexible_transporte||j.Zero(),flexible_guarderia:a.start.flexible_guarderia||j.Zero(),flexible_seguro:a.start.flexible_seguro||j.Zero(),flexible_seguro_personas:a.start.flexible_seguro_personas||1});(0,o.wB)((0,r.lW)(a,"start"),(e=>{n.situacion_id=e.situacion_id,n.salarioA=e.salarioA,n.salarioB=e.salarioB,n.edad=e.edad||30,n.hijos=e.hijos||0,n.ahorro=e.ahorro||0,n.plan_pensiones=e.plan_pensiones||0,n.flexible_restaurante=e.flexible_restaurante||0,n.flexible_transporte=e.flexible_transporte||0,n.flexible_guarderia=e.flexible_guarderia||0,n.flexible_seguro=e.flexible_seguro||0}));(0,r.KR)(!1);const l=(0,r.EW)((()=>f(n.situacion_id))),u=t;function c(){l.value.has_hijos?l.value.min_hijos>0&&(n.hijos=Math.max(n.hijos,l.value.min_hijos)):n.hijos=0,l.value.has_b||(n.salarioB=j.Zero()),d()}function d(){const e={year:n.year,grupo_cotizacion:n.grupo_cotizacion,salarioA:n.salarioA,salarioB:n.salarioB,situacion_id:n.situacion_id,edad:n.edad,hijos:n.hijos,ahorro:n.ahorro,plan_pensiones:n.plan_pensiones,flexible_restaurante:n.flexible_restaurante,flexible_transporte:n.flexible_transporte,flexible_guarderia:n.flexible_guarderia,flexible_seguro:n.flexible_seguro,flexible_seguro_personas:n.flexible_seguro_personas};u("newConfig",e)}return(0,o.sV)((()=>{d()})),(0,o.wB)((()=>n.situacion_id),c),(0,o.wB)((()=>n.salarioA),d),(0,o.wB)((()=>n.salarioB),d),(0,o.wB)((()=>n.edad),d),(0,o.wB)((()=>n.hijos),d),(0,o.wB)((()=>n.grupo_cotizacion),d),(0,o.wB)((()=>n.year),d),(0,o.wB)((()=>n.ahorro),d),(0,o.wB)((()=>n.plan_pensiones),d),(0,o.wB)((()=>n.flexible_restaurante),d),(0,o.wB)((()=>n.flexible_transporte),d),(0,o.wB)((()=>n.flexible_guarderia),d),(0,o.wB)((()=>n.flexible_seguro),d),(0,o.wB)((()=>n.flexible_seguro_personas),d),(e,t)=>((0,o.uX)(),(0,o.CE)("div",A,[t[22]||(t[22]=(0,o.Lk)("div",{class:"thelabel"},"Año",-1)),(0,o.Lk)("div",L,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.R1)(n).year=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(h),(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,s.v_)(e),9,F)))),128))],512),[[i.u1,(0,r.R1)(n).year]])]),t[23]||(t[23]=(0,o.Lk)("div",{class:"thelabel"},"Situación",-1)),(0,o.Lk)("div",V,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.R1)(n).situacion_id=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(x),(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,I)))),128))],512),[[i.u1,(0,r.R1)(n).situacion_id]])]),t[24]||(t[24]=(0,o.Lk)("div",{class:"thelabel"},"Bruto anual",-1)),(0,o.Lk)("div",B,[(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).salarioA,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.R1)(n).salarioA=e),step:"1000",min:"0"},null,8,["modelValue"]),["matri-conj","matri-ind"].includes((0,r.R1)(n).situacion_id)?((0,o.uX)(),(0,o.Wv)(k,{key:0,type:"number",modelValue:(0,r.R1)(n).salarioB,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,r.R1)(n).salarioB=e),step:"1000",min:"0"},null,8,["modelValue"])):(0,o.Q3)("",!0)]),t[25]||(t[25]=(0,o.Lk)("div",{class:"thelabel"},"Ahorro",-1)),(0,o.Lk)("div",P,[(0,o.Lk)("div",null,[t[14]||(t[14]=(0,o.Lk)("div",{class:"sublabel"},"Rendimientos del ahorro",-1)),(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).ahorro,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,r.R1)(n).ahorro=e),step:"1000",min:"0"},null,8,["modelValue"])]),(0,o.Lk)("div",null,[t[15]||(t[15]=(0,o.Lk)("div",{class:"sublabel"},"Aportaciones a planes de pensiones",-1)),(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).plan_pensiones,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,r.R1)(n).plan_pensiones=e),step:"1000",min:"0"},null,8,["modelValue"])])]),t[26]||(t[26]=(0,o.Lk)("div",{class:"thelabel"},"Flexibles",-1)),(0,o.Lk)("div",G,[(0,o.Lk)("div",U,[(0,o.Lk)("div",null,[t[16]||(t[16]=(0,o.Lk)("div",{class:"sublabel"},"Restaurante",-1)),(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).flexible_restaurante,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,r.R1)(n).flexible_restaurante=e),step:"100",min:"0"},null,8,["modelValue"])]),(0,o.Lk)("div",null,[t[17]||(t[17]=(0,o.Lk)("div",{class:"sublabel"},"Transporte",-1)),(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).flexible_transporte,"onUpdate:modelValue":t[7]||(t[7]=e=>(0,r.R1)(n).flexible_transporte=e),step:"100",min:"0"},null,8,["modelValue"])])]),(0,o.Lk)("div",T,[(0,o.Lk)("div",null,[t[18]||(t[18]=(0,o.Lk)("div",{class:"sublabel"},"Guardería",-1)),(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).flexible_guarderia,"onUpdate:modelValue":t[8]||(t[8]=e=>(0,r.R1)(n).flexible_guarderia=e),step:"100",min:"0"},null,8,["modelValue"])]),(0,o.Lk)("div",X,[(0,o.Lk)("div",null,[t[19]||(t[19]=(0,o.Lk)("div",{class:"sublabel"},"Seguro",-1)),(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(n).flexible_seguro,"onUpdate:modelValue":t[9]||(t[9]=e=>(0,r.R1)(n).flexible_seguro=e),step:"100",min:"0"},null,8,["modelValue"])]),(0,o.Lk)("div",null,[t[20]||(t[20]=(0,o.Lk)("div",{class:"sublabel"},"Personas",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=e=>(0,r.R1)(n).flexible_seguro_personas=e),step:"1",min:"1",max:"10"},null,512),[[i.Jo,(0,r.R1)(n).flexible_seguro_personas]])])])])]),t[27]||(t[27]=(0,o.Lk)("div",{class:"thelabel"},"Edad",-1)),(0,o.Lk)("div",K,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=e=>(0,r.R1)(n).edad=e),step:"1",min:"1"},null,512),[[i.Jo,(0,r.R1)(n).edad]])]),(0,r.R1)(l)?.has_hijos?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[t[21]||(t[21]=(0,o.Lk)("div",{class:"thelabel"},"Hijos",-1)),(0,o.Lk)("div",N,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=e=>(0,r.R1)(n).hijos=e),step:"1",min:(0,r.R1)(l).min_hijos},null,8,z),[[i.Jo,(0,r.R1)(n).hijos]])])],64)):(0,o.Q3)("",!0),t[28]||(t[28]=(0,o.Lk)("div",{class:"thelabel"},[(0,o.eW)("Grupo de"),(0,o.Lk)("br"),(0,o.eW)("cotización")],-1)),(0,o.Lk)("div",S,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>(0,r.R1)(n).grupo_cotizacion=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(v),(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.grupo,value:e.grupo}," Grupo "+(0,s.v_)(e.grupo)+" - "+(0,s.v_)(e.nombre),9,M)))),128))],512),[[i.u1,(0,r.R1)(n).grupo_cotizacion]])])]))}});const O=(0,c.A)(Z,[["__scopeId","data-v-71095638"]]);var H=O,W=(a(116),a(9014));function $(e,t=!1){let a=e.toFixed(2).replace(/\./g,",").replace(/(\d)(?=(\d{3})+,)/g,"$1.");return t&&(a=a.replace(/,00$/,"")),a}class Q{constructor(e){(0,y.A)(this,"id",void 0),(0,y.A)(this,"items",[]),this.id="line-"+e}push(e){const t={type:"text",options:{},...e};return this.items.push(t),this}text(e,t={}){return this.push({type:"text",text:e,options:t}),this}number(e,t={}){return this.push({type:"number",value:e,options:t}),this}euros(e,t={}){return this.push({type:"euros",value:"number"===typeof e?e:e.toRoundedUnit(2),options:t}),this}percentage(e,t={}){return this.push({type:"percentage",value:e,options:t}),this}symbol(e){return this.push({type:"symbol",text:e}),this}dot(){return this.symbol(".")}coma(){return this.symbol(",")}isHr(){return 1==this.items.length&&"hr"==this.items[0].type}toHtml(){"symbol"!=this.items[this.items.length-1].type&&this.dot();let e="<div>";for(const{type:t,text:a,value:i,options:o}of this.items){""!=e&&"symbol"!=t&&(e+=" ");let r=(()=>{switch(t){case"text":return a;case"euros":return`<span class="euros">${$(i)}€</span>`;case"percentage":return`<span class="percentage">${$(i)}%</span>`;case"symbol":return a;case"number":return`${i}`;default:return""}})();o.parenthesis?r=`(${r})`:o.quotes&&(r=`"${r}"`),e+=r}return e+="</div>",e}isLine(){return!0}isGroup(){return!1}hr(){return this.push({type:"hr"}),this}}class D{constructor(e){(0,y.A)(this,"id",void 0),(0,y.A)(this,"items",[]),(0,y.A)(this,"parent",void 0),this.id="group-"+ ++D.id,this.parent=e}line(){const e=new Q(this.items.length);return this.items.push(e),e}group(){const e=new D(this);return this.items.push(e),e}isLine(){return!1}isGroup(){return!0}}(0,y.A)(D,"id",0);class J{constructor(){(0,y.A)(this,"root",new D),(0,y.A)(this,"current",this.root)}startGroup(){return this.current=this.current.group(),this}endGroup(){return this.current=this.current.parent??this.root,this}line(){return this.current.line()}hr(){this.line().hr()}}function Y(e){return(0,W.A)({amount:Math.floor(100*e),precision:2})}class ee{constructor(){(0,y.A)(this,"id","A"),(0,y.A)(this,"bruto",0),(0,y.A)(this,"seguridad_social",0),(0,y.A)(this,"neto",0),(0,y.A)(this,"especie",0),(0,y.A)(this,"neto_mes",0),(0,y.A)(this,"seguridad_social_empresa",0),(0,y.A)(this,"total_empresa",0),(0,y.A)(this,"irpf",0),(0,y.A)(this,"irpf_porcentaje",0),(0,y.A)(this,"dinero_estado",0)}}class te{constructor(e,t){(0,y.A)(this,"config",void 0),(0,y.A)(this,"configContribuyente",void 0),(0,y.A)(this,"a",new ee),(0,y.A)(this,"b",new ee),(0,y.A)(this,"description",new J),this.config=e,this.configContribuyente=t}calcular(){const e=this.configContribuyente,t=e.salarioA.getValue(),a=e.salarioB.getValue(),i=x.find((t=>t.id===e.situacion_id))?.has_b??!1;this.description=new J,this.description.line().text("Calculando salario para el año").text(""+this.configContribuyente.year,{quotes:!0});const o=Y(t),r=Y(a);i?(this.description.line().text("El sueldo bruto A es de").euros(o).coma().text("el sueldo bruto B es de").euros(r).dot().text("El sueldo bruto total es de").euros(o.add(r)),this.a.bruto=o.toRoundedUnit(2),this.b.bruto=r.toRoundedUnit(2)):(this.description.line().text("El sueldo bruto es de").euros(o),this.a.bruto=o.toRoundedUnit(2),this.b.bruto=0);let s=Y(0),n=Y(0),l=Y(0),u=Y(0);this.description.hr(),this.description.line().text("Calculo de la seguridad social:"),this.description.startGroup(),["A","B"].forEach((o=>{const r="A"===o;if(i&&(this.description.line().text("Calculo para "+o).symbol(":"),this.description.startGroup()),!r&&!i)return;const c=r?t:a,d=Y(c),p=12*this.base_minima(),_=12*this.base_maxima(),m=Y(Math.max(p,Math.min(_,c))),b=this.description.line().text("La base sobre la que se aplica el calculo de la cotización").text("de la Seguridad Social es").euros(m).text("para el grupo de cotización").text(""+e.grupo_cotizacion,{quotes:!0}).dot();d.lessThan(Y(p))?b.text("El salario no llega a la base mínima de cotización!!!!"):d.greaterThan(m)&&b.text("Esta es la base máxima de cotización para el grupo");let h=(0,W.A)(),g=(0,W.A)();for(const e of this.config.tipos()){if(!e.porcentaje)continue;const t=m.multiply(e.porcentaje/100);h=h.add(t),this.description.line().text("El empleado debe aportar").percentage(e.porcentaje).text("en concepto de").text(e.nombre,{quotes:!0}).coma().text("la cuantia es").euros(t)}this.description.line().text("En total, la aportación a la seguridad social por el empleado es").euros(h);for(const e of this.config.tipos()){if(!e.porcentaje_empresa)continue;const t=m.multiply(e.porcentaje_empresa/100);g=g.add(t),this.description.line().text("La empresa debe aportar").percentage(e.porcentaje_empresa).text("en concepto de").text(e.nombre,{quotes:!0}).coma().text("la cuantia es").euros(t)}this.description.line().text("En total, la aportación a la seguridad social por la empresa es:").euros(g),r?(this.a.seguridad_social=h.toRoundedUnit(2),this.a.seguridad_social_empresa=g.toRoundedUnit(2),s=h,l=g):(this.b.seguridad_social=h.toRoundedUnit(2),this.b.seguridad_social_empresa=g.toRoundedUnit(2),n=h,u=g),i&&this.description.endGroup()})),this.description.endGroup(),this.description.hr(),this.description.line().text("Calculo del IRPF").symbol(":"),this.description.startGroup();const c=this.calcularMinimoPersonalFamiliar(),{especie_exento:d,especie_extra:p}=this.calcular_flexible();this.a.especie=d.add(p).toRoundedUnit(2);let _=Y(0),m=Y(0),b=Y(0);if("matri-ind"===e.situacion_id)this.description.line().text("Calculo de IRPF para A").symbol(":"),this.description.startGroup(),_=this.calcular_irpf(o,s,c,d,!0,this.a),this.description.endGroup(),this.description.line().text("Calculo de IRPF para B").symbol(":"),this.description.startGroup(),m=this.calcular_irpf(r,n,c,Y(0),!1,this.b),this.description.endGroup();else if("matri-conj"===e.situacion_id){const e=o.add(r),t=s.add(n);this.description.line().text("Calculo de IRPF conjunto").symbol(":"),this.description.startGroup(),b=this.calcular_irpf(e,t,c,d,!0,this.a),this.description.endGroup()}else this.description.line().text("Calculo de IRPF").symbol(":"),this.description.startGroup(),_=this.calcular_irpf(o,s,c,d,!0,this.a),this.description.endGroup();if(this.description.endGroup(),this.description.hr(),this.description.line().text("Calculo del sueldo neto").symbol(":"),this.description.startGroup(),"matri-conj"===e.situacion_id){const e=this.reparto_neto_conjunta(o,r,s,n,b,this.a,this.b);_=e.d_irpf_a,m=e.d_irpf_b,this.calculo_neto(o,s,_,d,p,this.a),this.calculo_neto(r,n,m,Y(0),Y(0),this.b)}else"matri-ind"===e.situacion_id?(this.calculo_neto(o,s,_,d,p,this.a),this.calculo_neto(r,n,m,Y(0),Y(0),this.b)):this.calculo_neto(o,s,_,d,p,this.a);this.description.endGroup(),this.description.hr(),this.a.total_empresa=o.add(l).toRoundedUnit(2),this.b.total_empresa=r.add(u).toRoundedUnit(2),i?this.description.line().text("La empresa A tiene un coste total de").euros(this.a.total_empresa).coma().text("la empresa B tiene un coste total de").euros(this.b.total_empresa):this.description.line().text("La empresa tiene un coste total de").euros(this.a.total_empresa),this.description.hr(),this.description.line().text("Calculo de los impuestos que el estado ingresa").symbol(":"),this.description.startGroup(),i&&(this.description.line().text("Calculo para A").symbol(":"),this.description.startGroup());const h=Y(0).add(s).add(l).add(_);if(this.description.line().text("El estado ingresa").euros(h).text("en impuestos"),this.a.dinero_estado=h.toRoundedUnit(2),i){this.description.line().text("Calculo para B").symbol(":");const e=Y(0).add(n).add(u).add(m);this.description.line().text("El estado ingresa").euros(e).text("en impuestos");const t=h.add(e);this.description.line().text("En total, el estado ingresa").euros(t).text("en impuestos"),this.b.dinero_estado=e.toRoundedUnit(2),this.description.endGroup()}this.description.endGroup();const g=Y(e.ahorro.getValue());if(g.greaterThan(Y(0))){this.description.hr(),this.description.line().text("Calculando ahorro (independiente del cálculo del salario)").symbol(":"),this.description.startGroup(),this.description.line().text("El ahorro es de").euros(g),this.description.startGroup();const e=this.calcularCuotasIntegrasAhorro(g),t=_.add(e);this.description.endGroup(),this.description.line().text("La cuota líquida del IRPF sobre el ahorro es de").euros(e).text("que sumada a la cuota líquida total del IRPF por el salario de").euros(_).text("da un total de").euros(t),this.description.endGroup()}}seleccionaEscala(e,t){for(const a of t.reverse())if(e.greaterThanOrEqual(Y(a.base_liquidable_hasta)))return a;throw new Error("No se ha encontrado tramo para la cantidad "+e.toUnit())}calcularMinimoPersonalFamiliar(){this.description.line().text("Calculando el mínimo personal y familiar"),this.description.startGroup();let e=Y(0);const t=Y(this.config.minimo_general());e=t,this.description.line().text("El mínimo general es de").euros(t);const a=Y(this.config.minimo_edad(this.configContribuyente.edad??0));e=e.add(a),this.description.line().text("Teniendo en cuenta la edad, se añade un mínimo de").euros(a);let i=Y(0);const o=this.configContribuyente.hijos??0;for(let r=1;r<=o;r++){const e=Y(this.config.minimo_hijo(r));this.description.line().text(`Por el hijo #${r} corresponde un mínimo adicional de `).euros(e),i=i.add(e)}return this.description.line().text("La suma de los mínimos por hijos es de").euros(i),"matri-ind"===this.configContribuyente.situacion_id&&(i=i.divide(2),this.description.line().text("Cada miembro de la pareja se beneficia de la mitad de los mínimos por hijos, es decir").euros(i)),e=e.add(i),"matri-conj"===this.configContribuyente.situacion_id&&(this.description.line().text("Al ser una declaración conjunta, se añade el mínimo por matrimonio").euros(Y(this.config.minimo_matrimonio())),e=e.add(Y(this.config.minimo_matrimonio()))),"monoparental"===this.configContribuyente.situacion_id&&(this.description.line().text("Al ser una declaración monoparental, se añade el mínimo por monoparental").euros(Y(this.config.minimo_mono_parental())),e=e.add(Y(this.config.minimo_mono_parental()))),this.description.line().text("El mínimo personal y familiar final es de").euros(e),this.description.endGroup(),e}calcularCuotasIntegras(e,t){let a,i,o,r;this.description.line().text("Calculando cuotas íntegras del IRPF").text("para la cantidad").euros(t).text("y el mínimo personal y familiar").euros(e);{const e=this.seleccionaEscala(t,this.config.escala_gravamen_estatal()),i=Y(e.cuota_integra),o=t.subtract(Y(e.base_liquidable_hasta)),r=Y(o.toUnit()*(e.porcentaje_resto/100)),s=i.add(r);this.description.line().text("C1: El tramo de la escala de gravamen general (estatal) es").euros(e.base_liquidable_hasta).text("cuya cuota íntegra es").euros(i).text("el resto de la base liquidable es").euros(o).text("y se aplica un porcentaje del").percentage(e.porcentaje_resto).text("que corresponde a").euros(r).dot().text("La cuota total es de").euros(s),a=s}{const t=this.seleccionaEscala(e,this.config.escala_gravamen_estatal()),a=Y(t.cuota_integra),i=e.subtract(Y(t.base_liquidable_hasta)),r=Y(i.toUnit()*(t.porcentaje_resto/100)),s=a.add(r);this.description.line().text("C3: El tramo de la escala de gravamen general (estatal) para el mínimo personal y familiar es").euros(t.base_liquidable_hasta).text("cuya cuota íntegra es").euros(a).text("el resto de la base liquidable es").euros(i).text("y se aplica un porcentaje del").percentage(t.porcentaje_resto).text("que corresponde a").euros(r).dot().text("La cuota total es de").euros(s),o=s}{const e=this.seleccionaEscala(t,this.config.escala_gravamen_autonomico("cyl")),a=Y(e.cuota_integra),o=t.subtract(Y(e.base_liquidable_hasta)),r=Y(o.toUnit()*(e.porcentaje_resto/100)),s=a.add(r);this.description.line().text("C2: El tramo de la escala de gravamen autonómica es").euros(e.base_liquidable_hasta).text("cuya cuota íntegra es").euros(a).text("el resto de la base liquidable es").euros(o).text("y se aplica un porcentaje del").percentage(e.porcentaje_resto).text("que corresponde a").euros(r).dot().text("La cuota total es de").euros(s),i=s}{const t=this.seleccionaEscala(e,this.config.escala_gravamen_autonomico("cyl")),a=Y(t.cuota_integra),i=e.subtract(Y(t.base_liquidable_hasta)),o=Y(i.toUnit()*(t.porcentaje_resto/100)),s=a.add(o);this.description.line().text("C4: El tramo de la escala de gravamen autonómica para el mínimo personal y familiar es").euros(t.base_liquidable_hasta).text("cuya cuota íntegra es").euros(a).text("el resto de la base liquidable es").euros(i).text("y se aplica un porcentaje del").percentage(t.porcentaje_resto).text("que corresponde a").euros(o).dot().text("La cuota total es de").euros(s),r=s}const s=a.subtract(o),n=i.subtract(r),l=s.add(n);return this.description.line().text("La cuota líquida estatal (C1-C3) es de").euros(s).text("y la cuota líquida autonómica (C2-C4) es de").euros(n).dot(),l}calcularCuotasIntegrasAhorro(e){let t,a;this.description.line().text("Calculando cuotas íntegras del IRPF del ahorro").text("para la cantidad").euros(e);{const a=this.seleccionaEscala(e,this.config.escala_gravamen_estatal_ahorro()),i=Y(a.cuota_integra),o=e.subtract(Y(a.base_liquidable_hasta)),r=Y(o.toUnit()*(a.porcentaje_resto/100)),s=i.add(r);this.description.line().text("CA1: El tramo de la escala de gravamen general (estatal) es").euros(a.base_liquidable_hasta).text("cuya cuota íntegra es").euros(i).text("el resto de la base liquidable es").euros(o).text("y se aplica un porcentaje del").percentage(a.porcentaje_resto).text("que corresponde a").euros(r).dot().text("La cuota total es de").euros(s),t=s}{const t=this.seleccionaEscala(e,this.config.escala_gravamen_autonomico_ahorro()),i=Y(t.cuota_integra),o=e.subtract(Y(t.base_liquidable_hasta)),r=Y(o.toUnit()*(t.porcentaje_resto/100)),s=i.add(r);this.description.line().text("CA2: El tramo de la escala de gravamen autonómica es").euros(t.base_liquidable_hasta).text("cuya cuota íntegra es").euros(i).text("el resto de la base liquidable es").euros(o).text("y se aplica un porcentaje del").percentage(t.porcentaje_resto).text("que corresponde a").euros(r).dot().text("La cuota total es de").euros(s),a=s}return a.add(t)}calcular_irpf(e,t,a,i,o,r){let s=e;s=s.subtract(t),s.isNegative()&&(s=Y(0));const n=Y(this.config.otros_gastos_deducibles());s=s.subtract(n),s.isNegative()&&(s=Y(0)),i.greaterThan(Y(0))&&(s=s.subtract(i));let l=Y(0);if(o&&(l=this.calcular_plan_pensiones(),s=s.subtract(l)),this.description.line().text("La base imponible sobre la que se aplica el IRPF es").euros(s).dot().text("Esta base es el bruto de").euros(e).text("menos:"),this.description.startGroup(),this.description.line().text("menos la cotización a la seguridad social de ").euros(t),this.description.line().text("menos otros gastos deducibles").euros(n),l.greaterThan(Y(0))&&this.description.line().text("menos el plan de pensiones").euros(l),i.greaterThan(Y(0))&&this.description.line().text("menos el ahorro flexible").euros(i),a.greaterThan(s))return this.description.line().text("El mínimo personal y familiar es mayor que la base imponible, por lo que irpf es 0"),r.irpf=0,Y(0);this.description.line().text("Ahora se calcula el IRPF").symbol(":"),this.description.startGroup();let u=this.calcularCuotasIntegras(a,s);return this.description.line().text("La cuota líquida total del IRPF es de").euros(u),this.description.endGroup(),u.isNegative()&&(this.description.line().text("El IRPF es negativo, ajustar a 0"),u=Y(0)),r.irpf=u.toRoundedUnit(2),u}calcular_flexible(){this.description.line().text("Calculando el ahorro flexible:").text("El ahorro flexible son retribuciones en especie que no tributan en el IRPF,").text("por lo que se restan de la base imponible (aunque aparecen en la nómina y hay que cotizar por ellos)"),this.description.startGroup();const e=(()=>{const e=this.configContribuyente.salarioA.getValue(),t=this.config.salario_minimo_interprofesional();let a=this.configContribuyente.flexible_restaurante.getValue(),i=this.configContribuyente.flexible_transporte.getValue();const o=this.configContribuyente.flexible_guarderia.getValue();let r=this.configContribuyente.flexible_seguro.getValue();if(a+i+o+r===0)return void this.description.line().text("No hay gastos en retribuciones en especie");if(this.description.line().text("El salario bruto es de ").euros(e),e<t)return void this.description.line().text("El salario es menor que el salario mínimo inter-profesional de ").euros(t).text(", por lo que no se puede aplicar el ahorro");let s=0,n=0,l=0;const u=this.config.flexible_max_restaurante_dia()*this.config.flexible_dias_laborables();a>0&&(this.description.line().text("Has gastado ").euros(a).text(" en restaurante"),this.description.startGroup(),this.description.line().text("El máximo permitido es de").euros(this.config.flexible_max_restaurante_dia()).text(" por día laborable, como hay ").number(this.config.flexible_dias_laborables()).text(" días laborables, el máximo permitido es de ").euros(u),a>u?(s=a-u,a=u,this.description.line().text("Has gastado más de lo permitido en restaurante, sólo podrás desgravar el máximo permitido.").text("El extra gastado es de ").euros(s)):this.description.line().text("Has gastado menos de lo permitido en restaurante"),this.description.endGroup());const c=this.config.flexible_max_transporte();i>0&&(this.description.line().text("Has gastado ").euros(i).text(" en transporte"),this.description.startGroup(),this.description.line().text("El máximo permitido es de").euros(c),i>c?(n=i-c,i=c,this.description.line().text("Has gastado más de lo permitido en transporte, sólo podrás desgravar el máximo permitido.").text("El extra gastado es de ").euros(n)):this.description.line().text("Has gastado menos de lo permitido en transporte"),this.description.endGroup()),o>0&&(this.description.line().text("Has gastado ").euros(o).text(" en guardería"),this.description.startGroup(),this.description.line().text("No hay límite en guardería"),this.description.endGroup());let d=this.config.flexible_max_seguro();if(r>0){this.description.line().text("Has gastado ").euros(r).text(" en seguro"),this.description.startGroup();const e=this.description.line().text("El máximo permitido es de").euros(d).text("por persona y año");this.configContribuyente.flexible_seguro_personas>1&&(d*=this.configContribuyente.flexible_seguro_personas,e.text(", como hay ").number(this.configContribuyente.flexible_seguro_personas).text(" personas, el máximo permitido es de").euros(d)),r>d?(l=r-d,r=d,this.description.line().text("Has gastado más de lo permitido en seguro, sólo podrás desgravar el máximo permitido.").text("El extra gastado es de ").euros(l)):this.description.line().text("Has gastado menos de lo permitido en seguro"),this.description.endGroup()}const p=Y(a).add(Y(i)).add(Y(o)).add(Y(r)),_=Y(s).add(Y(n)).add(Y(l));return p.greaterThan(Y(0))&&this.description.line().text("El ahorro flexible es de").euros(p).text("que no tributa en el IRPF porque está exento dentro de los límites establecidos de retribuciones en especie"),_.greaterThan(Y(0))&&this.description.line().text("Además has gastado").euros(_).text("adicionales que no están exentas y que tributan en el IRPF, ").text("tu empresa pagará esos importes al proveedor correspondiente y además deberá retenerte el IRPF"),{especie_exento:p,especie_extra:_}})();return this.description.endGroup(),e||{especie_exento:Y(0),especie_extra:Y(0)}}calcular_plan_pensiones(){let e=Y(this.configContribuyente.plan_pensiones.getValue());if(e.isZero())return e;const t=this.description.line().text("Calculando desgravación por plan de pensiones");return e.greaterThan(Y(this.config.plan_pensiones_max()))?(t.text("Has aportado más de lo permitido en plan de pensiones").text("El máximo permitido es de").euros(Y(this.config.plan_pensiones_max())),e=Y(this.config.plan_pensiones_max())):t.text("Has aportado").euros(e).text("en plan de pensiones que es menos del maximo permitido de").euros(Y(this.config.plan_pensiones_max())),this.description.line().text(""),e}reparto_neto_conjunta(e,t,a,i,o,r,s){const n=e.subtract(a),l=t.subtract(i),u=n.add(l),c=n.toUnit()/u.toUnit(),d=o.multiply(c),p=o.subtract(d);return r.irpf=d.toRoundedUnit(2),s.irpf=p.toRoundedUnit(2),this.description.line().text("Vamos a repartir el irpf A y B de forma proporcional a sus bases imponibles").text("El IRPF para A es de").euros(d).text("y para B es de").euros(p),{d_irpf_a:d,d_irpf_b:p}}calculo_neto(e,t,a,i,o,r){let s=e.subtract(t).subtract(a).subtract(i).subtract(o);const n=this.description.line().text("El salario bruto es de ").euros(e).text("menos la cotización a la seguridad social de").euros(t);return i.greaterThan(Y(0))&&(n.text("menos el ahorro flexible de").euros(i.add(o)).text("que ya lo ha pagado la empresa"),o.greaterThan(Y(0))&&n.text("(").euros(i).text(" exento y ").euros(o).text(" no exento )")),(s.isNegative()||s.isZero())&&(s=Y(0)),r.neto=s.toRoundedUnit(2),r.neto_mes=s.divide(12).toRoundedUnit(2),this.description.line().text("El salario neto (dinerado) es por tanto de").euros(s).text("y el neto mensual (dinerado) es de").euros(r.neto_mes),a.isZero()?r.irpf_porcentaje=0:r.irpf_porcentaje=100*a.toUnit()/e.toUnit(),this.description.line().text("Lo que corresponde a un porcentaje de IRPF en nómina de").percentage(r.irpf_porcentaje),s}base_minima(){const e=this.config.grupos_cotizacion().find((e=>e.grupo===this.configContribuyente.grupo_cotizacion));return e?e.base_minima:0}base_maxima(){const e=this.config.grupos_cotizacion().find((e=>e.grupo===this.configContribuyente.grupo_cotizacion));return e?e.base_maxima:0}}a(2489);const ae={class:"bar"},ie={class:"content"},oe={class:"name"},re={class:"amount"};var se=(0,o.pM)({__name:"Bar",props:{items:{},level:{default:()=>1}},setup(e){return(e,t)=>{const a=(0,o.g2)("Bar",!0);return(0,o.uX)(),(0,o.CE)("div",ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.items?.filter((e=>e.amount>0)),(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.name,class:"item",style:(0,s.Tr)({"flex-grow":Math.floor(t.amount)})},[(0,o.Lk)("div",ie,[(0,o.Lk)("div",oe,(0,s.v_)(t.name),1),(0,o.Lk)("div",re,(0,s.v_)((0,r.R1)($)(t.amount,!0))+"€",1)]),t.subitems?((0,o.uX)(),(0,o.Wv)(a,{key:0,items:t.subitems,level:e.level+1},null,8,["items","level"])):(0,o.Q3)("",!0)],4)))),128))])}}});const ne=(0,c.A)(se,[["__scopeId","data-v-d7667d50"]]);var le=ne;const ue={class:"entry"},ce={key:0,class:"value valueb"};class de{constructor(e,t=""){(0,y.A)(this,"table",void 0),(0,y.A)(this,"id",void 0),(0,y.A)(this,"type","str"),(0,y.A)(this,"name",""),(0,y.A)(this,"values",[]),this.table=e,this.name=t,this.id=++de.id}eur(){return this.type="eur",this}per(){return this.type="per",this}value(e){if("number"===typeof e)if(isNaN(e)||0==e)e="-";else switch(e=$(e,"eur"===this.type),this.type){case"eur":e+="€";break;case"per":e+="%";break}return this.values.push(e),this}get has_b(){return this.values.length>1}get is_span(){return this.has_b&&this.values.length<2}get a(){return this.values.length<1?"":this.values[0]}get b(){return this.values.length<2?"":this.values[1]}}(0,y.A)(de,"id",0);class pe{constructor(){(0,y.A)(this,"rows",[])}get has_b(){return this.rows.some((e=>e.has_b))}row(e){const t=new de(this,e);return this.rows.push(t),t}}var _e=(0,o.pM)({__name:"Table",props:{table:{}},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,s.C4)(["salarytable",{hasb:e.table.has_b}])},[e.table.has_b?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[t[0]||(t[0]=(0,o.Lk)("div",{class:"value title"},"A",-1)),t[1]||(t[1]=(0,o.Lk)("div",{class:"value valueb title"},"B",-1))],64)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.table.rows,(t=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t.id},[(0,o.Lk)("div",ue,(0,s.v_)(t.name),1),(0,o.Lk)("div",{class:(0,s.C4)(["value",{unique:e.table.has_b&&!t.has_b}])},(0,s.v_)(t.a),3),t.has_b?((0,o.uX)(),(0,o.CE)("div",ce,(0,s.v_)(t.b),1)):(0,o.Q3)("",!0)],64)))),128))],2))}});const me=(0,c.A)(_e,[["__scopeId","data-v-317ecd98"]]);var be=me;const he={class:"group"},ge={key:0},xe=["innerHTML"];var fe=(0,o.pM)({__name:"DescriptionGroup",props:{group:{},isMain:{type:Boolean}},setup(e){return(e,t)=>{const a=(0,o.g2)("DescriptionGroup",!0);return(0,o.uX)(),(0,o.CE)("div",he,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.group.items,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"row",key:e.id},[e.isLine()?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.isHr()?((0,o.uX)(),(0,o.CE)("hr",ge)):((0,o.uX)(),(0,o.CE)("div",{key:1,innerHTML:e.toHtml()},null,8,xe))],64)):((0,o.uX)(),(0,o.Wv)(a,{key:1,group:e},null,8,["group"]))])))),128))])}}});const ve=(0,c.A)(fe,[["__scopeId","data-v-4a666497"]]);var ye=ve;const je={class:"descriptiontable"};var qe=(0,o.pM)({__name:"DescriptionTable",props:{descriptions:{}},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("div",je,[e.descriptions.length>0?((0,o.uX)(),(0,o.Wv)(ye,{key:0,group:e.descriptions[0].root},null,8,["group"])):(0,o.Q3)("",!0)]))}});const we=(0,c.A)(qe,[["__scopeId","data-v-6d4aaaa3"]]);var Ce=we;const Re={class:"results"};var Ee=(0,o.pM)({__name:"CalcResults",props:{config:{}},setup(e){const t=e,a=(0,r.KR)([]),i=(0,r.KR)([]),s=(0,r.Kh)({empleado:new pe,empresa:new pe}),n=(0,o.EW)((()=>f(t.config.situacion_id)));function l(e){const t=new te(g[e.year],e);t.calcular();const o=n.value.has_b;if(o){const e=[{name:"SS A",amount:t.a.seguridad_social},{name:"IRPF A",amount:t.a.irpf},{name:"Neto A",amount:t.a.neto}],a=[{name:"SS B",amount:t.b.seguridad_social},{name:"IRPF B",amount:t.b.irpf},{name:"Neto B",amount:t.b.neto}];let o;i.value=[{name:"SS Empresa A",amount:t.a.seguridad_social_empresa},{name:"SS Empresa B",amount:t.b.seguridad_social_empresa},{name:"Bruto A",amount:t.a.bruto,subitems:e},{name:"Bruto B",amount:t.b.bruto,subitems:a}],o=new pe,o.row("Sueldo bruto").eur().value(t.a.bruto).value(t.b.bruto),o.row("Contribución Seguridad Social").eur().value(t.a.seguridad_social).value(t.b.seguridad_social),o.row("Retención IRPF").eur().value(t.a.irpf).value(t.b.irpf),o.row("Porcentaje IRPF en nómina").per().value(t.a.irpf_porcentaje).value(t.b.irpf_porcentaje),o.row("Sueldo neto total").eur().value(t.a.neto+t.b.neto),o.row("Sueldo neto").eur().value(t.a.neto).value(t.b.neto),o.row("Sueldo neto mensual").eur().value(t.a.neto_mes).value(0),o.row("Total neto").eur().value(t.a.neto+t.b.neto),o.row("Total neto mensual").eur().value(t.a.neto_mes+t.b.neto_mes),o.row("Porcentaje del bruto en neto").per().value(100*t.a.neto/t.a.bruto).value(100*t.b.neto/t.b.bruto),t.a.especie>0&&o.row("Pagos en especie (retribución flexible)").eur().value(t.a.especie),s.empleado=o,o=new pe,o.row("Total empresa").eur().value(t.a.total_empresa).value(t.b.total_empresa),o.row("Estado por A y B").eur().value(t.a.dinero_estado).value(t.b.dinero_estado),o.row("Total estado").eur().value(t.a.dinero_estado+t.b.dinero_estado),s.empresa=o}else{const e=[{name:"Seguridad Social",amount:t.a.seguridad_social},{name:"IRPF",amount:t.a.irpf},{name:"Neto",amount:t.a.neto}];let a;i.value=[{name:"Seguridad Social Empresa",amount:t.a.seguridad_social_empresa},{name:"Bruto para empleado",amount:t.a.bruto,subitems:e}],a=new pe,a.row("Sueldo bruto").eur().value(t.a.bruto),a.row("Contribución Seguridad Social").eur().value(t.a.seguridad_social),a.row("Retención IRPF").eur().value(t.a.irpf),a.row("Porcentaje IRPF en nómina").per().value(t.a.irpf_porcentaje),a.row("Sueldo neto").eur().value(t.a.neto),a.row("Sueldo neto mensual").eur().value(t.a.neto_mes),a.row("Porcentaje del bruto en neto").per().value(100*t.a.neto/t.a.bruto),t.a.especie>0&&a.row("Pagos en especie (retribución flexible)").eur().value(t.a.especie),s.empleado=a,a=new pe,a.row("Total empresa").eur().value(t.a.total_empresa),a.row("Total estado").eur().value(t.a.dinero_estado),a.row("Porcentaje total estado").per().value(100*t.a.dinero_estado/t.a.total_empresa),a.row("Porcentaje total empleado").per().value(100*t.a.neto/t.a.total_empresa),s.empresa=a}a.value=[t.description]}return(0,o.wB)((0,r.lW)(t,"config"),l),l(t.config),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Re,[i.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(le,{items:i.value},null,8,["items"]),(0,o.bF)(be,{table:s.empleado},null,8,["table"]),(0,o.bF)(be,{table:s.empresa},null,8,["table"]),(0,o.bF)(Ce,{descriptions:a.value},null,8,["descriptions"])],64)):(0,o.Q3)("",!0)]))}});const ke=Ee;var Ae=ke;const Le={class:"cuantoalmes"},Fe={key:0,class:"modal"};var Ve=(0,o.pM)({__name:"CuantoAlMes",emits:["alMes"],setup(e,{emit:t}){const a=(0,r.KR)(!1),n=(0,r.KR)(1e3),l=t;function u(){a.value=!1,l("alMes",n.value)}return(e,t)=>((0,o.uX)(),(0,o.CE)("div",Le,[t[2]||(t[2]=(0,o.eW)(" ¿Cuanto hay que cobrar para ganar X al mes?: ")),(0,o.Lk)("a",{class:"pointer",onClick:t[0]||(t[0]=e=>a.value=!0)},"calcular"),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"#app"},[a.value?((0,o.uX)(),(0,o.CE)("div",Fe,[(0,o.Lk)("p",null,"¿Cuanto hay que cobrar para ganar "+(0,s.v_)(n.value)+" al mes?",1),(0,o.bo)((0,o.Lk)("input",{type:"number",step:"100",min:"0","onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e)},null,512),[[i.Jo,n.value]]),(0,o.Lk)("button",{onClick:(0,i.D$)(u,["prevent"])},"Calcular")])):(0,o.Q3)("",!0)]))]))}});const Ie=(0,c.A)(Ve,[["__scopeId","data-v-7f3e9bb5"]]);var Be=Ie;class Pe{constructor(e,t={}){(0,y.A)(this,"fn",void 0),(0,y.A)(this,"start",void 0),(0,y.A)(this,"maxIter",void 0),(0,y.A)(this,"Kp",void 0),(0,y.A)(this,"Ki",void 0),(0,y.A)(this,"Kd",void 0),this.fn=e;const a={start:0,maxIter:100,Kp:1,Ki:0,Kd:5},i={...a,...t};this.start=i.start,this.maxIter=i.maxIter,this.Kp=i.Kd,this.Ki=i.Ki,this.Kd=i.Kd}run(e){let t=0,a=0,i=0;for(let o=0;o<this.maxIter;o++){const o=this.fn(t),r=e-o;a+=r;const s=r-i;if(i=r,Math.abs(r)<.01)break;t+=r*this.Kp+a*this.Ki+s*this.Kd}return t}}const Ge=h[0];function Ue(e){const t=(()=>{switch(e.situacion_id){case"soltero":return"s";case"matri-conj":return"c";case"matri-ind":return"i";case"monoparental":return"m"}})();let a=t;return a+=e.salarioA.getOptimizedText(),e.salarioB.getValue()&&(a+="b"+e.salarioB.getOptimizedText()),e.edad&&(a+="e"+e.edad),e.hijos&&(a+="h"+e.hijos),e.year!==Ge&&(a+="y"+e.year),1!==e.grupo_cotizacion&&(a+="g"+e.grupo_cotizacion),e.ahorro.getValue()&&(a+="a"+e.ahorro.getOptimizedText()),e.plan_pensiones.getValue()&&(a+="p"+e.plan_pensiones.getOptimizedText()),e.flexible_restaurante.getValue()&&(a+="fr"+e.flexible_restaurante.getOptimizedText()),e.flexible_transporte.getValue()&&(a+="ft"+e.flexible_transporte.getOptimizedText()),e.flexible_guarderia.getValue()&&(a+="fg"+e.flexible_guarderia.getOptimizedText()),e.flexible_seguro.getValue()&&(a+="fs"+e.flexible_seguro.getOptimizedText()),e.flexible_seguro_personas>1&&(a+="fp"+e.flexible_seguro_personas),a}function Te(e){const t=/([scim])([0-9.+*]+)(?:b([0-9.+*]+))?(?:e([0-9]+))?(?:h([0-9]+))?(?:y([0-9]+))?(?:g([0-9]+))?(?:a([0-9.+*]+))?(?:p([0-9.+*]+))?(?:fr([0-9.+*]+))?(?:ft([0-9.+*]+))?(?:fg([0-9.+*]+))?(?:fs([0-9.+*]+))?(?:fp([0-9]+))?/i.exec(e);if(!t)return null;const a=(e=>{switch(e){case"s":return"soltero";case"c":return"matri-conj";case"i":return"matri-ind";case"m":return"monoparental";default:return"soltero"}})(t[1]),i=new j(t[2]||"0"),o=new j(t[3]||"0"),r=+(t[4]||18),s=+(t[5]||0),n=+(t[6]||Ge),l=+(t[7]||1),u=new j(t[8]||"0"),c=new j(t[9]||"0"),d=new j(t[10]||"0"),p=new j(t[11]||"0"),_=new j(t[12]||"0"),m=new j(t[13]||"0"),b=+(t[14]||"1");return{year:n,grupo_cotizacion:l,situacion_id:a,salarioA:i,salarioB:o,edad:r,hijos:s,ahorro:u,plan_pensiones:c,flexible_restaurante:d,flexible_transporte:p,flexible_guarderia:_,flexible_seguro:m,flexible_seguro_personas:b}}function Xe(e){const t=new URLSearchParams(window.location.search);t.set("q",Ue(e)),history.replaceState(null,"null","?"+t.toString())}function Ke(){const e=new URLSearchParams(window.location.search),t=e.get("q");return t?Te(t):null}const Ne={class:"calculator"},ze={href:"https://github.com/javfres/calculadora-salario"};var Se=(0,o.pM)({__name:"Calculator",props:{year:{}},setup(e){const t=(0,r.KR)({year:2024,grupo_cotizacion:1,situacion_id:x[0].id,salarioA:j.fromNumber(2e4),salarioB:j.Zero(),edad:30,hijos:0,ahorro:j.Zero(),plan_pensiones:j.Zero(),flexible_guarderia:j.Zero(),flexible_restaurante:j.Zero(),flexible_seguro:j.Zero(),flexible_transporte:j.Zero()}),a=Ke();a&&(t.value=a);const i=(0,r.KR)();function n(e){i.value=e,Xe(e)}function l(e){const a=new Pe((e=>{const t=j.fromNumber(e),a={...i.value,salarioA:t},o=new te(g[i.value.year],a);return o.calcular(),o.a.neto_mes}),{start:12*e}),o=j.fromNumber(Math.ceil(a.run(e)));t.value={...i.value,salarioA:o}}return(e,a)=>{const r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Ne,[a[1]||(a[1]=(0,o.Lk)("h1",null,"Calculadora Salario Neto",-1)),(0,o.Lk)("p",null," Calculadora salario neto para el año "+(0,s.v_)(e.year)+" y para CyL. ",1),a[2]||(a[2]=(0,o.Lk)("p",null," Calcula el salario neto, la contribución a la seguridad social y el IRPF. También calcula la aportación de la empresa. ",-1)),a[3]||(a[3]=(0,o.Lk)("p",null," ⚠️ El calculo del ahorro y la retribución flexible es un cálculo experimental. El porcentaje de IRPF no será preciso porque sólo se tienen en cuenta las retribuciones dineradas y no los pagos en especie. ",-1)),(0,o.Lk)("p",null,[a[0]||(a[0]=(0,o.eW)(" Más información y código de la calculadora en: ")),(0,o.Lk)("a",ze,[(0,o.bF)(r,{icon:"fa-brands fa-github"})])]),(0,o.bF)(Be,{onAlMes:l}),(0,o.bF)(H,{start:t.value,onNewConfig:n},null,8,["start"]),i.value?((0,o.uX)(),(0,o.Wv)(Ae,{key:0,config:i.value},null,8,["config"])):(0,o.Q3)("",!0)])}}});const Me=Se;var Ze=Me;const Oe={class:"theform"},He={class:"theinput"},We={class:"theinput"},$e={class:"theinput"},Qe={class:"theinput"},De={class:"theinput"};var Je=(0,o.pM)({__name:"Form",props:{start:{}},emits:["newConfig"],setup(e,{emit:t}){const a=e,i=(0,r.Kh)({salario:a.start.salario,restaurante:a.start.restaurante,transporte:a.start.transporte,guarderia:a.start.guarderia,seguro:a.start.seguro});(0,o.wB)((0,r.lW)(a,"start"),(e=>{i.salario=e.salario,i.restaurante=e.restaurante,i.transporte=e.transporte,i.guarderia=e.guarderia,i.seguro=e.seguro}));const s=t;function n(){const e={salario:i.salario,restaurante:i.restaurante,transporte:i.transporte,guarderia:i.guarderia,seguro:i.seguro};s("newConfig",e)}return(0,o.sV)((()=>{n()})),(0,o.wB)((()=>i.salario),n),(0,o.wB)((()=>i.restaurante),n),(0,o.wB)((()=>i.transporte),n),(0,o.wB)((()=>i.guarderia),n),(0,o.wB)((()=>i.seguro),n),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Oe,[t[5]||(t[5]=(0,o.Lk)("div",{class:"thelabel"},"Bruto anual",-1)),(0,o.Lk)("div",He,[(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(i).salario,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.R1)(i).salario=e),step:"1000",min:"0"},null,8,["modelValue"])]),t[6]||(t[6]=(0,o.Lk)("div",{class:"thelabel"},"restaurante",-1)),(0,o.Lk)("div",We,[(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(i).restaurante,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.R1)(i).restaurante=e),step:"10",min:"0"},null,8,["modelValue"])]),t[7]||(t[7]=(0,o.Lk)("div",{class:"thelabel"},"transporte",-1)),(0,o.Lk)("div",$e,[(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(i).transporte,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.R1)(i).transporte=e),step:"10",min:"0"},null,8,["modelValue"])]),t[8]||(t[8]=(0,o.Lk)("div",{class:"thelabel"},"guarderia",-1)),(0,o.Lk)("div",Qe,[(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(i).guarderia,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,r.R1)(i).guarderia=e),step:"10",min:"0"},null,8,["modelValue"])]),t[9]||(t[9]=(0,o.Lk)("div",{class:"thelabel"},"seguro",-1)),(0,o.Lk)("div",De,[(0,o.bF)(k,{type:"number",modelValue:(0,r.R1)(i).seguro,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,r.R1)(i).seguro=e),step:"10",min:"0"},null,8,["modelValue"])])]))}});const Ye=(0,c.A)(Je,[["__scopeId","data-v-cec84900"]]);var et=Ye;class tt{constructor(e,t){(0,y.A)(this,"year",void 0),(0,y.A)(this,"configIRPF",void 0),(0,y.A)(this,"configFlexibleContribuyente",void 0),(0,y.A)(this,"description",new J),this.year=t,this.configIRPF=g[t],this.configFlexibleContribuyente=e}configIRPFContribuyente(e,t,a,i,o){return{year:this.year,grupo_cotizacion:1,salarioA:e,salarioB:j.fromNumber(0),situacion_id:"soltero",ahorro:j.fromNumber(0),plan_pensiones:j.fromNumber(0),flexible_restaurante:t,flexible_transporte:a,flexible_guarderia:i,flexible_seguro:o,flexible_seguro_personas:1}}calcular(){const e=this.configFlexibleContribuyente.salario;if(this.description.line().text("El salario bruto es de ").euros(e.getValue()),e.getValue()<this.configIRPF.salario_minimo_interprofesional())return void this.description.line().text("El salario es menor que el salario mínimo interprofesional de ").euros(this.configIRPF.salario_minimo_interprofesional()).text(", por lo que no se puede aplicar el ahorro");const t=this.configFlexibleContribuyente.restaurante,a=this.configFlexibleContribuyente.transporte,i=this.configFlexibleContribuyente.guarderia,o=this.configFlexibleContribuyente.seguro,r=t.getValue()+a.getValue()+i.getValue()+o.getValue();if(r<=0)return void this.description.line().text("No se ha gastado nada en flexible, por lo que no se puede aplicar el ahorro");this.description.line().text("Has dedicado ").euros(r).text(" en flexible");const s=this.configIRPF.flexible_max_percentage(),n=r/e.getValue();if(n>s)return void this.description.line().text("Has gastado más de lo permitido en flexible, que es el ").percentage(s).text(" de tu salario, no se puede calcular el ahorro");const l=this.configIRPFContribuyente(e,j.Zero(),j.Zero(),j.Zero(),j.Zero()),u=new te(this.configIRPF,l);u.calcular();const c=u.a.neto-r,d=this.configIRPFContribuyente(e,t,a,i,o),p=new te(this.configIRPF,d);p.calcular();const _=p.a.neto,m=_-c;this.description.line().text("Calculo de la declaración con un salario normal"),this.description.startGroup(),this.description.line().text("La aportación a la seguridad social es de ").euros(u.a.seguridad_social),this.description.line().text("El irpf es de ").euros(u.a.irpf),this.description.line().text("El salario neto es de ").euros(u.a.neto).text("de los cuales pagarás").euros(r).text("por los servicios que no tienes en flexible").text(" con lo que al final te quedan").euros(c),this.description.endGroup(),this.description.line().text("Calculo de la declaración con el flexible"),this.description.startGroup(),this.description.line().text("La aportación a la seguridad social es de ").euros(p.a.seguridad_social),this.description.line().text("El irpf es de ").euros(p.a.irpf),this.description.line().text("El salario neto es de ").euros(p.a.neto).text("y además te has llevado").euros(p.a.especie).text("en especie, al final has ganado").euros(_+r),this.description.endGroup(),this.description.line().text("El salario neto normal es de ").euros(u.a.neto).text(", que se reduce a ").euros(c).text(" con lo que hubieras pagado de flexible sin desgravación"),this.description.line().text("El salario neto (dinerado) usando el flexible es de ").euros(p.a.neto).text(", con lo que has ahorrado ").euros(m);const b=(r-m)/r*100;this.description.line().text("Esto supone que vas a pagar un").percentage(b).text(" respecto al precio original de ").euros(r)}}const at={class:"results"};var it=(0,o.pM)({__name:"CalcResults",props:{config:{}},setup(e){const t=e,a=(0,r.KR)([]);function i(e){const t=new tt(e,2024);t.calcular(),a.value=[t.description]}return(0,o.wB)((0,r.lW)(t,"config"),i),i(t.config),(e,t)=>((0,o.uX)(),(0,o.CE)("div",at,[(0,o.bF)(Ce,{descriptions:a.value},null,8,["descriptions"])]))}});const ot=it;var rt=ot;const st={class:"flexible"};var nt=(0,o.pM)({__name:"Flexible",props:{year:{}},setup(e){const t=(0,r.KR)({salario:j.fromNumber(3e4),restaurante:j.Zero(),transporte:j.Zero(),guarderia:j.Zero(),seguro:j.Zero()}),a=(0,r.KR)();function i(e){a.value=e}return(e,r)=>((0,o.uX)(),(0,o.CE)("div",st,[r[0]||(r[0]=(0,o.Lk)("h1",null,"Retribución flexible",-1)),(0,o.Lk)("p",null," Calculadora de la retribución flexible para el año "+(0,s.v_)(e.year)+" y para CyL. Esta calculadora compara los beneficios de la retribución flexible respecto a una retribución normal. ",1),r[1]||(r[1]=(0,o.Lk)("p",null," La retribución flexible es otra forma de retribución que sí computa para el cálculo de la cotización a la seguridad social pero tiene ventajas fiscales respecto al IRPF. Cada categoría de la retribución flexible tiene un límite de aportación, dentro del límite no se tiene en cuenta para el IRPF. Si se supera, se calculará como retribución normal y habrá que pagar el IRPF aunque no se haya cobrado directamente en la nómina. ",-1)),(0,o.bF)(et,{start:t.value,onNewConfig:i},null,8,["start"]),a.value?((0,o.uX)(),(0,o.Wv)(rt,{key:0,config:a.value},null,8,["config"])):(0,o.Q3)("",!0)]))}});const lt=nt;var ut=lt;const ct=2024;var dt=(0,o.pM)({__name:"App",setup(e){const t=(0,r.KR)("calculator");return(e,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(p,{items:[{id:"calculator",name:"Calculadora"},{id:"flexible",name:"Retribución flexible"}],onTabChange:a[0]||(a[0]=e=>t.value=e)}),"calculator"===t.value?((0,o.uX)(),(0,o.Wv)(Ze,{key:0,year:ct})):(0,o.Q3)("",!0),"flexible"===t.value?((0,o.uX)(),(0,o.Wv)(ut,{key:1,year:ct})):(0,o.Q3)("",!0)],64))}});const pt=dt;var _t=pt,mt=a(8950),bt=a(292),ht=a(4996);mt.Yv.add(ht.Vz1),(0,i.Ef)(_t).component("font-awesome-icon",bt.gc).mount("#app")}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,i,o,r){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],r=e[c][2];for(var n=!0,l=0;l<i.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(n=!1,r<s&&(s=r));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,r,s=i[0],n=i[1],l=i[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(l)var c=l(a)}for(t&&t(i);u<s.length;u++)r=s[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},i=self["webpackChunkcalculadorasalario"]=self["webpackChunkcalculadorasalario"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(879)}));i=a.O(i)})();
//# sourceMappingURL=app.eeaf0805.js.map